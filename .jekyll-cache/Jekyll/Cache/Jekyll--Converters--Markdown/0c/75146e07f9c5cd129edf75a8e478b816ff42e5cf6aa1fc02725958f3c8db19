I")
<h4 id="what-is-pil">what is PIL</h4>

<h4 id="convert-between-a-pil-image-and-a-numpy-array">convert between a PIL Image and a numpy array</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># the conversion from Image to array
</span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"sample.png"</span><span class="p">)</span>
<span class="n">np</span>\<span class="n">_im</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">np</span>\<span class="n">_im</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># the conversion from array to Image
</span><span class="n">new_im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">np_im</span><span class="p">)</span>
<span class="c1"># for grey images, you need add the following code 
# new_im = new_im.convert("L")
</span><span class="n">new_im</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="s">"altered_sample.png"</span><span class="p">)</span>

</code></pre></div></div>

<h4 id="reference">Reference</h4>
<ol>
  <li><a href="https://kite.com/python/examples/4887/pil-convert-between-a-pil-%60image%60-and-a-numpy-%60array%60">convert between PIL Image and Array</a></li>
  <li><a href="https://stackoverflow.com/questions/16720682/pil-cannot-write-mode-f-to-jpeg">PIL can not write mode F to jpeg</a></li>
</ol>
:ET