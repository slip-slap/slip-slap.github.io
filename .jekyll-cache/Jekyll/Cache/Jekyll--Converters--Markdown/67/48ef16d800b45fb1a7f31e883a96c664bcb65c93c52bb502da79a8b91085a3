I"ÿ%
<p>####</p>
<ol>
  <li>why data is modified by private ? function is modified by public?
    <ul>
      <li>just like a car, it has button you can push, the button is like a function,
itâ€™s public.</li>
      <li>But whatâ€™s in the button, you have no idea. Itâ€™s the data which is private.</li>
    </ul>
  </li>
</ol>

<h3 id="å°è£…">å°è£…</h3>

<p>ç±»çš„å®šä¹‰å¯ä»¥ä½¿ç”¨structæˆ–è€…classå…³é”®å­—ï¼Œstructæ˜¯ä»cç»§æ‰¿æ¥çš„<br />
ä½¿ç”¨classå®šä¹‰ç±»ï¼Œåˆ™å®šä¹‰åœ¨ç¬¬ä¸€ä¸ªè®¿é—®æ ‡å·å‰çš„ä»»ä½•æˆå‘˜æƒé™éƒ½ä¸ºprivate<br />
ä½¿ç”¨structå®šä¹‰ç±»ï¼Œåˆ™éƒ½ä¸ºpublicï¼Œå…¶ä»–æ²¡å·®ã€‚</p>

<p>javaçš„ç±»æ›´åƒæ˜¯c++ç±»çš„ä¸€ç§ç®€åŒ–ã€‚c++ä¸­çš„ç±»èƒ½å¤Ÿæ§åˆ¶åœ¨åˆå§‹åŒ–ï¼Œå¤åˆ¶ï¼Œèµ‹å€¼å’Œé”€æ¯å¯¹è±¡æ—¶å‘ç”Ÿçš„æ“ä½œã€‚javaçš„ç±»æ²¡æœ‰è¿™ç§èƒ½åŠ›ã€‚<br />
python, javaå’Œc++ä¸­ï¼Œéƒ½éšçº¦å­˜åœ¨thisæŒ‡é’ˆè¿™ä¸ªæ¦‚å¿µã€‚&lt;/br&gt;
åªä¸è¿‡ï¼Œjavaå’Œc++éƒ½éšè—çš„æ¯”è¾ƒæ·±ä¸€ç‚¹ã€‚å¯¹äº å±äºå¯¹è±¡çš„æˆå‘˜å‡½æ•°æ¥è¯´ï¼Œéƒ½æœ‰å¯¹è±¡çš„æŒ‡é’ˆä¸ä»–ä»¬ç»‘å®š
åœ¨ä¸€èµ·ï¼Œè¿™ä¸ªå‚æ•°æ˜¯éšè—ã€‚pythonå°±æ¯”è¾ƒå¹²è„†äº†ï¼Œå‘Šè¯‰ä½ æœ‰è¿™ä¸ªæŒ‡é’ˆï¼Œå³ä¸ºselfï¼Œè°ƒç”¨çš„æ—¶å€™ï¼Œä¸éœ€è¦
æŒ‡æ˜ã€‚</p>
<font color="red">ä»£ç æ®µ1</font>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
</span><span class="k">namespace</span> <span class="n">HY</span><span class="p">{</span>
	<span class="k">class</span> <span class="nc">Sales_item</span><span class="p">{</span>
	<span class="nl">public:</span>
		<span class="c1">//constæˆå‘˜ä¸èƒ½æ”¹å˜å…¶æ‰€æ“ä½œçš„å¯¹è±¡çš„æ•°æ®æˆå‘˜ï¼Œconstå¿…é¡»åŒæ—¶å‡ºç°åœ¨å£°æ˜å’Œå®šä¹‰ä¸­ã€‚</span>
		<span class="kt">double</span> <span class="n">avg_price</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
		<span class="kt">bool</span> <span class="n">same_isbn</span><span class="p">(</span><span class="k">const</span> <span class="n">Sales_item</span> <span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span> <span class="k">const</span><span class="p">{</span>
			<span class="k">return</span> <span class="n">isbn</span><span class="o">==</span><span class="n">rhs</span><span class="p">.</span><span class="n">isbn</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="c1">//æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨</span>
		<span class="n">Sales_item</span><span class="p">()</span><span class="o">:</span> <span class="n">units_sold</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">revenue</span><span class="p">(</span><span class="mf">0.0</span><span class="p">){}</span>
	<span class="nl">private:</span>
		<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">isbn</span><span class="p">;</span>
		<span class="kt">unsigned</span> <span class="n">units_sold</span><span class="p">;</span>
		<span class="kt">double</span> <span class="n">revenue</span><span class="p">;</span>
	<span class="p">};</span>	
<span class="p">}</span>
</code></pre></div></div>

<h4 id="1-constructor">1. Constructor</h4>
<p>å®šä¹‰: ç±»é€šè¿‡ä¸€ä¸ªæˆ–å‡ ä¸ªç‰¹æ®Šçš„æˆå‘˜å‡½æ•°æ¥æ§åˆ¶å…¶å¯¹è±¡çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œè¿™äº›å‡½æ•°å«åšæ„é€ å‡½æ•°<br /></p>
<ul>
  <li>ç¼–è¯‘å™¨é»˜è®¤ä¼šä¸ºç±»åˆæˆæ— å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå¦‚æœç±»è‡ªå·±å®šä¹‰äº†æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¸å†æä¾›æ— å‚æ„é€ å‡½æ•°</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Foo</span><span class="p">{</span>
	<span class="n">Foo</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">){</span>
		<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"one parameter constructor"</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>	
<span class="p">}</span>
<span class="c1">//å®šä¹‰ç±»</span>
<span class="n">Foo</span> <span class="n">f1</span><span class="p">;</span>    <span class="c1">//é”™è¯¯ï¼Œç¼–è¯‘å™¨ä¸ä¼šå†æä¾›æ— å‚æ•°çš„æ„é€ å‡½æ•°</span>
<span class="n">Foo</span> <span class="nf">f2</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</code></pre></div></div>

<hr />

<h4 id="æ‹·è´æ„é€ å‡½æ•°">æ‹·è´æ„é€ å‡½æ•°</h4>

<p>å®šä¹‰: å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è‡ªèº«ç±»ç±»å‹çš„å¼•ç”¨ï¼Œä¸”ä»»ä½•é¢å¤–å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼Œæ­¤æ„é€ å‡½æ•°ä¸ºæ‹·è´æ„é€ å‡½æ•°<br /></p>
<ul>
  <li>å¦‚æœç±»å®šä¹‰åªæœ‰ä¸€ä¸ªå‚æ•°ä¸”è¯¥å‚æ•°ç±»å‹ä¸ºè‡ªèº«ç±»ç±»å‹çš„å¼•ç”¨ï¼Œç¼–è¯‘å™¨ä¸å†ä¸ºè¯¥ç±»æä¾›é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ã€‚<font color="blue">å¦‚æœç±»å®šä¹‰äº†é‡è½½çš„æ‹·è´æ„é€ å‡½æ•°ï¼Œå³å‚æ•°ä¸åŒçš„æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨è¿˜ä¼šåˆæˆåªæœ‰ä¸€ä¸ªå‚æ•°æ˜¯è‡ªèº«ç±»ç±»å‹çš„å¼•ç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œè¿™ä¸æ„é€ å‡½æ•°ä¸ä¸€æ ·ï¼Œæ„é€ å‡½æ•°æ˜¯åªæœ‰ç±»å®šä¹‰çš„æœ‰æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸å†åˆæˆ</font></li>
</ul>
<hr />

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Foo</span><span class="p">{</span>
	<span class="n">Foo</span><span class="p">(</span><span class="n">Foo</span><span class="o">&amp;</span> <span class="n">instance</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="p">){</span>
		<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"copy constructor"</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>	
<span class="p">}</span>
<span class="c1">//å®šä¹‰ç±»</span>
<span class="n">Foo</span> <span class="n">f1</span><span class="p">;</span>
<span class="n">Foo</span> <span class="n">f2</span><span class="p">(</span><span class="n">f1</span><span class="p">)</span>  <span class="c1">//æ­£ç¡®ç¼–è¯‘å™¨è¿˜æ˜¯ä¼šåˆæˆï¼Œåªæœ‰ä¸€ä¸ªè‡ªèº«ç±»å¼•ç”¨çš„æ„é€ å‡½æ•°</span>
</code></pre></div></div>

<hr />

<h4 id="æ‹·è´èµ‹å€¼è¿ç®—ç¬¦">æ‹·è´èµ‹å€¼è¿ç®—ç¬¦</h4>

<p>å®šä¹‰: å¦‚æœç±»æœªå®šä¹‰è‡ªå·±çš„æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå®ƒåˆæˆä¸€ä¸ª<br /></p>

<hr />

<h4 id="ç§»åŠ¨æ„é€ å‡½æ•°">ç§»åŠ¨æ„é€ å‡½æ•°</h4>

<hr />

<h4 id="ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦">ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</h4>
<p>å®šä¹‰: ç§»åŠ¨èµ‹å€¼</p>

<hr />

<h4 id="2-destructor">2. Destructor</h4>
<p>å®šä¹‰: ææ„å‡½æ•°æ‰§è¡Œä¸æ„é€ å‡½æ•°ç›¸åçš„æ“ä½œ:,æ„é€ å‡½æ•°åˆå§‹åŒ–å¯¹è±¡çš„éstaticæ•°æ®æˆå‘˜;ææ„å‡½æ•°é‡Šæ”¾å¯¹è±¡ä½¿ç”¨çš„èµ„æºï¼Œå¹¶é”€æ¯å¯¹è±¡çš„éstaticæ•°æ®æˆå‘˜</p>
<h4 id="constæˆå‘˜å‡½æ•°">constæˆå‘˜å‡½æ•°</h4>

<font color="green">ä¸Šæ®µä»£ç 1ä¸­,isbnå‡½æ•°å‚æ•°åˆ—è¡¨åæœ‰constå…³é”®å­—ï¼Œ
constçš„ä½œç”¨ä¿®æ”¹thisæŒ‡é’ˆçš„ç±»å‹</font>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œthisçš„ç±»å‹æ˜¯æŒ‡å‘ç±»ç±»å‹éå¸¸é‡ç‰ˆæœ¬çš„å¸¸é‡æŒ‡é’ˆï¼Œåœ¨Salesdataæˆå‘˜å‡½æ•°
ä¸­ï¼Œthisçš„ç±»å‹æ˜¯Salesdata *const<br />
å°½ç®¡thisæ˜¯éšå£«çš„ï¼Œéœ€è¦éµå¾ªåˆå§‹åŒ–è§„åˆ™ã€‚<font color="green">æˆ‘ä»¬ä¸èƒ½æŠŠ
thisç»‘å®šåˆ°ä¸€ä¸ªå¸¸é‡å¯¹è±¡ä¸Š, æˆ‘ä»¬ä¸èƒ½åœ¨ä¸€ä¸ªå¸¸é‡å¯¹è±¡ä¸Šè°ƒç”¨æ™®é€šçš„æˆå‘˜å‡½æ•°</font></p>
<font color="red">ä»£ç æ®µ2</font>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Sales_data</span><span class="p">{</span>
	<span class="nl">public:</span>
	    <span class="n">Sales_data</span><span class="p">(){</span>
	    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">isbn</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
	    <span class="kt">void</span> <span class="n">non_const</span><span class="p">();</span>
<span class="p">};</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Sales_data</span><span class="o">::</span><span class="n">isbn</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>
	    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"the number of the book"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
	    <span class="k">return</span> <span class="s">"iu"</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">Sales_data</span><span class="o">::</span><span class="n">non_const</span><span class="p">()</span> <span class="p">{</span>
	    <span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="s">"nont const member function"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">//è°ƒç”¨</span>
<span class="k">const</span> <span class="n">Sales_data</span> <span class="n">demo</span> <span class="o">=</span> <span class="n">Sales_data</span><span class="p">();</span>
<span class="n">demo</span><span class="p">.</span><span class="n">non_const</span><span class="p">();</span>  <span class="c1">//error:none const function is called on the const object</span>
<span class="n">demo</span><span class="p">.</span><span class="n">isbn</span><span class="p">();</span>
</code></pre></div></div>

<hr />

<h3 id="inheritance">Inheritance</h3>

<p>c++è¯­è¨€ä¸­ï¼Œå¿…é¡»å°†ä¸¤ç§æˆå‘˜å‡½æ•°åŒºåˆ†å¼€æ¥<br />
1 åŸºç±»å¸Œæœ›å…¶æ´¾ç”Ÿç±»è¿›è¡Œè¦†ç›–çš„å‡½æ•°ï¼Œè™šå‡½æ•°virtual<br />
2 åŸºç±»å¸Œæœ›æ´¾ç”Ÿç±»ç›´æ¥ç»§æ‰¿ä¸è¦æ”¹å˜çš„å‡½æ•°<br /></p>
:ET